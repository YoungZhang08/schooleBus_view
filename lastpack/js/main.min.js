function login(){var t={username:document.getElementById("user_id").value,password:document.getElementById("user_password").value};Ajax({url:"http://localhost:3001",method:"GET",data:{username:t.username,password:t.password},dataType:"jsonp",success:function(t){console.log(t)}})}!function(){function t(t){this.url=t.url,this.data=t.data||"",this.method=t.method||"GET",this.dataType=t.dataType||t.dataType.toUpperCase(),this.async=t.async||!0,this.success=t.success,this.error=t.error,this.timeout=t.timeout||0,this.xml=null,this.init()}t.prototype={constructor:t,init:function(){this.createXml()},createXml:function(){window.XMLHttpRequest?this.xml=new XMLHttpRequest:this.xml=new ActiveXObject("Microsoft.XMLHTTP"),this.spliceParams(),"json"==this.dataType?this.dataTypeJson():"jsonp"==this.dataType&&this.dataTypeJsonp()},spliceParams:function(){var t=[];if("object"==typeof this.data){for(var e in this.data)t.push(encodeURIComponent(e)+"="+encodeURIComponent(this.data[e]));t=t.join("&")}this.data=t},dataTypeJson:function(){var t=function(){200==this.xml?this.success(this.xml.responseText):this.error(this.xml.status)};this.async&&(this.xml.onreadystatechange=function(){4==this.xml.readyState&&t()}),this.xml.open(this.method,this.url,this.async),"GET"==this.method?(this.url=this.url+"&"+this.data,this.xml.send(null)):"POST"==this.method&&(this.xml.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.xml.send(this.data)),this.xml.async||t()},dataTypeJsonp:function(){var t=this,e=document.querySelector("head"),s=document.createElement("script"),i="callback"+(new Date).getTime();if(i.replace(".",""),s.src=this.url+"?"+this.data+"&callback="+i,e.appendChild(s),window[i]=function(a){clearTimeout(n),t.success(a),e.removeChild(s),window[i]=null},this.timeout)var n=setTimeout(function(){e.removeChild(s),window[i]=function(){},this.error&&this.error()},this.timeout)}},window.Ajax=function(e){return new t(e)}}(),document.getElementById("btn").addEventListener("click",login(),!1);